<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tổng doanh thu của từng Partner</title>
    <!-- Thêm Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-KyZXEJxX8c8e1v9d1fL9kR3C9vFsbWe2v8qR8Q2w5kFvNqlg+op9Kb8U5jmThwH5" crossorigin="anonymous">
    <style>
        /* Một số tùy chỉnh để tối ưu hóa giao diện */
        .currency {
            color: #28a745;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <!-- Include Header -->
    <%- include('../header', { pageTitle: 'Tổng doanh thu của từng Partner' }) %>

    <div class="container my-4">
        <h3 class="text-center mb-3">Danh sách doanh thu của các Partner</h3>

        <!-- Hiển thị ngày hiện tại -->
        <div class="text-center text-muted mb-4">
             Doanh thu cho đến ngày: <%= formattedToday %>
        </div>

        <!-- Bảng hiển thị doanh thu -->
        <table class="table table-striped table-bordered table-hover">
            <thead class="table-primary">
                <tr>
                    <th scope="col">Partner</th>
                    <th scope="col">Tổng Doanh Thu</th>
                </tr>
            </thead>
            <tbody>
                <!-- Duyệt qua groupedRevenues và hiển thị dữ liệu -->
                <% groupedRevenues.forEach(function(revenue) { %>
                    <tr>
                        <td><%= revenue.partnerName %></td>
                        <td class="currency"><%= revenue.totalSales.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' }) %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </div>

    <!-- Thêm Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" 
            integrity="sha384-oBqDVmMz4fnFO9gybYfEoElps5lGg4Wj1Bv6ePpG4g25me6f2dF+SiRmV0GbH7mII" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" 
            integrity="sha384-pzjw8f+ua7Kw1TIq0+9FcM7xNz2H/Xe3X5j3osndfgZbH6U5lGoOydwLsPfqHjXg" 
            crossorigin="anonymous"></script>
</body>

</html>
